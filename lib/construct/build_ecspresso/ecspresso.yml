# ecspresso deploy --config ecspresso.yml를 통해, 이하의 설정되로 ecs 서비스를 배포한다.
# 태스크 정의에서 태스크의 설정을 지정한다. -> 도커 이미지, 컨테이너 포트, 환경 변수 등이 포함된다.
# 즉, 실제로 ecs 서비스 배포 과정에서 ecs는 태스크 정의에 지정된 도커 이미지의 ecr 경로를 참조하여, 필요한 도커 이미지를 ecr로부터 자동으로 다운로드 한다.
# 그리고, ecs 클러스터 내에서 태스크를 실행할 때, 이 이미지를 기반트로 컨테이너를 생성하고 실행한다.
# 즉, 개발자는 이미지를 직접 다운로드 하거나 실행하는 작업을 할 필요가 없다.
# 결론적으로 , ecspresso deploy 명령을 사용하는 과정에서 정의된 yml , 서비스 정의 파일 , 태스크 정의 파일을 통해
# ecs 서비스 배포를 자동화하며, 배포 과정에서 ecr에 저장된 도커 이미지가 ecs 태스크로 자동으로 배포되고 실행된다.

##### 다음으로 해야할 것은 , ecs-task-def.json에서 도커 이미지 url이 어떻게 정의되는지 확인
region: ap-northeast-1
cluster: '{{ must_env `ECS_CLUSTER` }}'
service: '{{ must_env `ECS_SERVICE` }}'
service_definition: ecs-service-def.json
task_definition: ecs-task-def.json
timeout: '10m0s'
